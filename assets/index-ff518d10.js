import{g as S,h as m,i as T,j as R,d as b,o as _,c as h,a as g,t as $,f as C,b as f,w as y,e as P,u as d,r as v,s as D,k as N,F as w}from"./index-c4b23d89.js";import{s as A,i as I}from"./sample-service-dd86161d.js";const O=({callback:a,defaultPagination:o})=>{const e=S({...V}),c=({value:s,isCallback:l=!0})=>{e.value.page=s,console.log("VALUE:",s),l&&a()},p=({value:s,isCallback:l=!0})=>{e.value.records=s,l&&a()},n=({value:s,isCallback:l=!1})=>{e.value.totalRecords=s,l&&a()},t=()=>{o&&Object.entries(o).forEach(s=>{const l=s[0],x=s[1];e.value[l]=x})},u=m(()=>e.value.page),i=m(()=>e.value.records),r=m(()=>e.value.totalRecords),k=m(()=>{var s,l;return`$page=${(s=e==null?void 0:e.value)==null?void 0:s.page}&$records=${(l=e==null?void 0:e.value)==null?void 0:l.records}`});return T(()=>t()),{setPage:c,setRecords:p,setTotalRecords:n,page:u,records:i,totalRecords:r,paginationParams:k,pagination:e}},V={page:"1",records:"8",totalRecords:"0"},B=R("samples",()=>{const a=S([]),{setPage:o,setTotalRecords:e,pagination:c,paginationParams:p}=O({callback:()=>n()});async function n(){var u,i,r;const t=await A.index({params:`${p.value}`});I(t)&&(a.value=(u=t==null?void 0:t.data)==null?void 0:u.data,e({value:(r=(i=t==null?void 0:t.data)==null?void 0:i.totalRecords)==null?void 0:r.toString()}))}return{setPage:o,pagination:c,fetchSamples:n,samples:a}}),E=m(()=>({sampleType:{header:"Sample name",field:"sampleType.name",type:"text"},name:{header:"Name",field:"name",type:"text"},created:{header:"Created",field:"created",type:"date"},owner:{header:"Owner",field:"owner",type:"text"},sampleID:{header:"Identification",field:"sampleID",type:"text"},position:{header:"Position",field:"position",type:"text"},checkedOut:{header:"Checked out",field:"checkedOut",type:"boolean",boolean:{true_val:"Yes",false_val:"No"}},archived:{header:"Archived",field:"archived",type:"boolean",boolean:{true_val:"Yes",false_val:"No"}},comparment:{header:"Comparment",field:"",type:""}})),F=b({__name:"SampleTableData",props:{item:null},setup(a){const o=a,e={color:`#${o.item.sampleType.foregroundColor}`,backgroundColor:`#${o.item.sampleType.backgroundColor}`,fontWeight:"bold"};return(c,p)=>{var n,t;return _(),h("td",{class:"table-data",style:e},[g("span",null,$((t=(n=a.item)==null?void 0:n.sampleType)==null?void 0:t.name),1)])}}}),L={class:"table-data"},j=b({__name:"ComparmentTableData",props:{item:null},setup(a){const o=a,e=m(()=>`${C.comparment.path}/${o.item.sampleID}`);return(c,p)=>{const n=v("AppIcon"),t=v("RouterLink");return _(),h("td",L,[f(t,{class:"router-link",to:d(e)},{default:y(()=>[P(" See more"),f(n,{icon:"eye"})]),_:1},8,["to"])])}}}),Y=g("section",{id:"introduction"},[g("h1",null,"Samples")],-1),M={key:0,id:"table-section"},q=b({__name:"index",setup(a){const o=B(),{samples:e,pagination:c}=D(o),{fetchSamples:p,setPage:n}=o;return T(()=>p()),(t,u)=>{const i=v("AppTable");return _(),h(w,null,[Y,d(e).length?(_(),h("section",M,[f(i,{data:d(e),fields:d(E),pagination:d(c),setPage:d(n)},{sampleType:y(({item:r})=>[f(F,{item:r},null,8,["item"])]),comparment:y(({item:r})=>[f(j,{item:r},null,8,["item"])]),_:1},8,["data","fields","pagination","setPage"])])):N("",!0)],64)}}});export{q as default};
