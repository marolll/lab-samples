var B=Object.defineProperty;var N=(a,e,t)=>e in a?B(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var I=(a,e,t)=>(N(a,typeof e!="symbol"?e+"":e,t),t);import{j as R,g as $,d as S,l as L,w as f,r as u,o as r,a as d,t as y,k as x,h as v,u as _,b as m,c as g,m as T,e as k,n as V,F as D,_ as C,s as j,i as F,p as P,f as E}from"./index-c4b23d89.js";import{B as G,a as M,i as A,s as O}from"./sample-service-dd86161d.js";const U="storageLayers";class Y extends G{constructor(){super(...arguments);I(this,"show",async({params:t,id:n})=>{const o=`${M}/${U}/${n}`;return await this.get({path:o,params:t})})}}const q=new Y,z=R("comparment",()=>{const a=$(void 0),e=$(void 0);return{fetchStorageLayer:async o=>{const s=await q.show({id:o});A(s)&&(a.value=s==null?void 0:s.data)},fetchSample:async o=>{const s=await O.show({params:"$expand=location",id:o});A(s)&&(e.value=s==null?void 0:s.data)},sample:e,storageLayer:a}}),H={class:"pb-normal"},w=S({__name:"DetailLocationSample",props:{sample:null},setup(a){return(e,t)=>{const n=u("AppBarcode"),o=u("AppCard");return r(),L(o,{header:!1},{body:f(()=>{var s,c;return[d("h4",H,"Sample: "+y(((s=a.sample)==null?void 0:s.name)||""),1),(c=a.sample)!=null&&c.barcode?(r(),L(n,{key:0,barcode:a.sample.barcode},null,8,["barcode"])):x("",!0)]}),_:1})}}}),J={class:"pb-normal"},K=S({__name:"DetailLocationContainer",props:{sample:null},setup(a){const e=a,t=v(()=>{var n,o;return(o=(n=e==null?void 0:e.sample)==null?void 0:n.location)==null?void 0:o.parent});return(n,o)=>{const s=u("AppBarcode"),c=u("AppCard");return r(),L(c,{bg:"#f6f6f6"},{header:f(()=>{var p,l;return[d("h3",J,"Container: "+y(((p=_(t))==null?void 0:p.name)||""),1),(l=_(t))!=null&&l.barcode?(r(),L(s,{key:0,barcode:_(t).barcode},null,8,["barcode"])):x("",!0)]}),body:f(()=>[m(w,{sample:a.sample},null,8,["sample"])]),_:1})}}}),Q={key:0},W={key:1},X=S({__name:"DetailLocation",props:{sample:null},setup(a){const e=a,t=v(()=>{var n,o;return(o=(n=e==null?void 0:e.sample)==null?void 0:n.location)==null?void 0:o.parent});return(n,o)=>_(t)?(r(),g("div",Q,[m(K,{sample:a.sample},null,8,["sample"])])):(r(),g("div",W,[m(w,{sample:a.sample},null,8,["sample"])]))}}),Z={class:"tooltip-action font-bold text-primary"},ee={class:"tooltip-header pb-sm"},ae={class:"storage-layer-list"},te={class:"li-name"},oe={class:"li-data"},se=S({__name:"DetailStorageLayer",props:{storageLayer:null},setup(a){const e=a,t=v(()=>e.storageLayer.icon.split("_").join("-")),n=v(()=>{var o,s,c,p,l;return[{name:"Created",data:T(e.storageLayer.created)},{name:"Storage id",data:(o=e.storageLayer)==null?void 0:o.storageID},{name:"Storage definition id",data:(s=e.storageLayer)==null?void 0:s.storageLayerDefinitionID},{name:"User id",data:(c=e.storageLayer)==null?void 0:c.userID},{name:"Transposed",data:(p=e.storageLayer)!=null&&p.transposed?"Yes":"No"},{name:"Position",data:(l=e.storageLayer)==null?void 0:l.position}]});return(o,s)=>{const c=u("AppIcon"),p=u("AppTooltip");return r(),L(p,null,{text:f(()=>[d("h4",Z,[k(y("Show info about storage layer")+" "),m(c,{icon:"eye"})])]),content:f(()=>{var l;return[d("h3",ee,[k(y((l=a.storageLayer)==null?void 0:l.name)+" ",1),m(c,{icon:_(t)},null,8,["icon"])]),d("ul",ae,[(r(!0),g(D,null,V(_(n),(i,h)=>(r(),g("li",{class:"pb-xs",key:h},[d("span",te,y(i==null?void 0:i.name)+": ",1),d("span",oe,y(i==null?void 0:i.data),1)]))),128))])]}),_:1})}}});const ne=C(se,[["__scopeId","data-v-01d818ea"]]),re={class:"pb-lg"},ce=S({__name:"Detail",props:{storageLayer:null,sample:null},setup(a){return(e,t)=>(r(),g(D,null,[d("div",re,[m(X,{sample:a.sample},null,8,["sample"])]),a.storageLayer?(r(),L(ne,{key:0,storageLayer:a.storageLayer},null,8,["storageLayer"])):x("",!0)],64))}}),le={id:"comparment-header"},pe={key:0,id:"comparment-detail"},ie=S({__name:"index",setup(a){const e=P(),t=z(),{sample:n,storageLayer:o}=j(t),{fetchSample:s,fetchStorageLayer:c}=t;return F(async()=>{var l,i,h;const p=(l=e.params)==null?void 0:l.sampleId;if(p){await s(Number(p));const b=(i=n.value)==null?void 0:i.storageLayerID;(h=n.value)!=null&&h.storageLayerID&&c(Number(b))}}),(p,l)=>{var b;const i=u("AppIcon"),h=u("RouterLink");return r(),g(D,null,[d("section",le,[d("h1",null,"Comparment of the sample "+y((b=_(n))==null?void 0:b.sampleID),1),m(h,{class:"router-link",to:_(E).samples.path},{default:f(()=>[k(" Go back "),m(i,{icon:"arrow-uturn-left"})]),_:1},8,["to"])]),_(n)?(r(),g("section",pe,[m(ce,{sample:_(n),storageLayer:_(o)},null,8,["sample","storageLayer"])])):x("",!0)],64)}}});const ue=C(ie,[["__scopeId","data-v-fa325567"]]);export{ue as default};
