import{g as T,h as m,i as k,j as R,d as S,o as h,c as g,a as y,t as $,f as C,b as _,w as v,e as P,u as d,r as b,s as D,k as N,F as w}from"./index-4beb7359.js";import{s as A,i as I}from"./sample-service-ad549b9e.js";const O=({callback:a,defaultPagination:o})=>{const e=T({...V}),r=({value:s,isCallback:l=!0})=>{e.value.page=s,console.log("VALUE:",s),l&&a()},c=({value:s,isCallback:l=!0})=>{e.value.records=s,l&&a()},n=({value:s,isCallback:l=!1})=>{e.value.totalRecords=s,l&&a()},t=()=>{o&&Object.entries(o).forEach(s=>{const l=s[0],x=s[1];e.value[l]=x})},u=m(()=>e.value.page),i=m(()=>e.value.records),p=m(()=>e.value.totalRecords),f=m(()=>{var s,l;return`$page=${(s=e==null?void 0:e.value)==null?void 0:s.page}&$records=${(l=e==null?void 0:e.value)==null?void 0:l.records}`});return k(()=>t()),{setPage:r,setRecords:c,setTotalRecords:n,page:u,records:i,totalRecords:p,paginationParams:f,pagination:e}},V={page:"1",records:"8",totalRecords:"0"},B=R("samples",()=>{const a=T([]),{setPage:o,setTotalRecords:e,pagination:r,paginationParams:c}=O({callback:()=>n()});async function n(){var u,i,p;const t=await A.index({params:`${c.value}`});I(t)&&(a.value=(u=t==null?void 0:t.data)==null?void 0:u.data,e({value:(p=(i=t==null?void 0:t.data)==null?void 0:i.totalRecords)==null?void 0:p.toString()}))}return{setPage:o,pagination:r,fetchSamples:n,samples:a}}),E=m(()=>({sampleType:{header:"Sample name",field:"sampleType.name",type:"text"},name:{header:"Name",field:"name",type:"text"},created:{header:"Created",field:"created",type:"date"},owner:{header:"Owner",field:"owner",type:"text"},sampleID:{header:"Identification",field:"sampleID",type:"text"},position:{header:"Position",field:"position",type:"text"},checkedOut:{header:"Checked out",field:"checkedOut",type:"boolean",boolean:{true_val:"Yes",false_val:"No"}},archived:{header:"Archived",field:"archived",type:"boolean",boolean:{true_val:"Yes",false_val:"No"}},comparment:{header:"Comparment",field:"",type:""}})),F=S({__name:"SampleTableData",props:{item:null},setup(a){const o=a,e={color:`#${o.item.sampleType.foregroundColor}`,backgroundColor:`#${o.item.sampleType.backgroundColor}`,fontWeight:"bold"};return(r,c)=>{var n,t;return h(),g("td",{class:"table-data",style:e},[y("span",null,$((t=(n=a.item)==null?void 0:n.sampleType)==null?void 0:t.name),1)])}}}),L={class:"table-data"},j=S({__name:"ComparmentTableData",props:{item:null},setup(a){const o=a,e=m(()=>`${C.comparment.path}/${o.item.sampleID}`);return(r,c)=>{const n=b("AppIcon"),t=b("RouterLink");return h(),g("td",L,[_(t,{class:"router-link",to:d(e)},{default:v(()=>[P(" See more"),_(n,{icon:"eye"})]),_:1},8,["to"])])}}}),Y=y("section",{id:"introduction"},[y("h1",null,"Samples")],-1),M={key:0,id:"table-section"},q=S({__name:"index",setup(a){const o=B(),{samples:e,pagination:r}=D(o),{fetchSamples:c,setPage:n}=o;return k(()=>c()),(t,u)=>{var p;const i=b("AppTable");return h(),g(w,null,[Y,(p=d(e))!=null&&p.length?(h(),g("section",M,[_(i,{data:d(e),fields:d(E),pagination:d(r),setPage:d(n)},{sampleType:v(({item:f})=>[_(F,{item:f},null,8,["item"])]),comparment:v(({item:f})=>[_(j,{item:f},null,8,["item"])]),_:1},8,["data","fields","pagination","setPage"])])):N("",!0)],64)}}});export{q as default};
